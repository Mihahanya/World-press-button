<!DOCTYPE html>
<html lang="en">
<head>
	<title>World Press Button</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
	<link rel="stylesheet" type="text/css" href="static/css/style.css">
	<link rel="icon" href="static/img/logo.png">
	
	<meta name="description" content="click"/>
  	<meta name="keywords" content="click"/>

	<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
</head>

<body style="background: url(static/img/background.png);">
	<header>
		<h1>World Press Button</h1>
	</header>

  	<main>
		<button id="main_button" class="main_button"> Press Button </button><br>

		<p id="totalClicks" class="counter" style="margin-top: 45px;"> -0 </p><br>
		<p style="margin-top: 10px;"> Total Clicks </p><br>

		<div class="line" style="width: 200px;"></div><br>

		<input id="nicknameVal" type="text" style="margin: 0 0px 20px;" value="" placeholder="→ Input nickname here ←"><br>
		<p id="enterNick" style="margin-top: -35px; color: #e91b4b; font-family: 'Secular One'; font-size: 110%; transition: all 0.1s;">enter a nickname</p><br>
		<p id="nickScore" class="counter" style="margin-top: -20px; font-size: 200%;"> -0 (-0%) clicks</p><br>

		<div class="line"></div><br>
		
		<div class="info_block">
			<h1>Top 7 Clickers</h1>

			<div id="topUsers">
				<p style="font-size: 100%; padding: 0;font-family: 'Secular One', sans-serif;"> -n (-0 clicks) </p>
				<div class="line" style="width: 100%; height: 7px; margin: 0 0 5px; background: linear-gradient(-90deg, #3f51b5, #000000);"></div>
			</div>
		</div>

		<div class="line"></div>
		
		<div class="info_block">
			<h1>Info</h1>
			This site was created by <a href="https://github.com/mihahanya/">Mihahanya</a> without any commercial purposes, purely for entertainment. Here people can click on a button from any nickname and increase his score. That's it. Try...
		</div>
	</main>

	<footer> © 2022 by Mihahanya (Mihas Games) </footer>
</body>

<script type="text/javascript">
	total_clicks = document.getElementById('totalClicks')
	nickname_clicks = document.getElementById('nickScore')
	top_users = document.getElementById('topUsers')
	nickname = document.getElementById('nicknameVal')
	enter_nick = document.getElementById('enterNick')

	$('main_button').click(function() {
		if (0 < $('#nicknameVal').val().length <= 23) {
			 $.ajax({
				type: "POST",
				url: 'increase_score.php',
				data: "",
				error: function() {
					alert('Some error in the work of the site, I will fix everything soon');
				}
			});

			$.ajax({
				type: "POST",
				url: 'get_score.php',
				data: $(this).serialize(),
				success: function(response) {
					total_clicks.innerHTML = response
				},
				error: function() {
					alert('Some error in the work of the site, I will fix everything soon');
				}
			});
		}
	});

	$('#nicknameVal').on('keydown keyup change', function() {
		if (0 < $(this).val().length <= 23) {
			enter_nick.style.opacity = "0";
		}
		else {
			enter_nick.style.opacity = "1";
		}
	})

</script>

</html>